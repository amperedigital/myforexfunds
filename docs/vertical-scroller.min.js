!function(){const e="[data-vertical-scroll]",t="[data-scroll-to]",n=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function r(r){const l=window.gsap;l&&r.forEach(r=>{if(r.__verticalScrollInit)return;r.__verticalScrollInit=!0;const c=r.dataset,a=c.scrollTrack||"[data-scroll-track]",u=c.scrollSlide||"[data-scroll-slide]",d=r.matches(a)?r:r.querySelector(a)||r.querySelector(".vertical-scroll-track");if(!d)return;const f=Array.from(d.querySelectorAll(u));if(f.length<2)return;if(n)return void(r.style.overflowY=r.style.overflowY||"auto");const h=c.scrollSlideHeight||"100vh",v=c.scrollEase||"power2.out",p=function(e,t){if(!e)return t;const n=String(e).trim();if(!n)return t;if(n.endsWith("ms")){const e=parseFloat(n.replace(/ms$/,""));return Number.isFinite(e)?e/1e3:t}const r=parseFloat(n);return Number.isFinite(r)?r:t}(c.scrollDuration,.85),y="true"===c.scrollLoop,m="false"!==c.scrollWheel,g="false"!==c.scrollTouch,w="false"!==c.scrollKeys,E=s(c.scrollWheelThreshold,10),b=s(c.scrollSwipeThreshold,50);r.style.overflow=r.style.overflow||"hidden",r.style.position=r.style.position||"relative",r.style.touchAction=r.style.touchAction||"none",r.hasAttribute("tabindex")||(r.tabIndex=0),r.style.height||(r.style.height=h),d.style.display=d.style.display||"flex",d.style.flexDirection=d.style.flexDirection||"column",d.style.willChange=d.style.willChange||"transform",d.style.transform=d.style.transform||"translate3d(0, 0, 0)",f.forEach(e=>{e.style.flex||(e.style.flex=`0 0 ${h}`),e.style.minHeight||(e.style.minHeight=h),e.style.width||(e.style.width="100%")});let L=i(c.scrollStartIndex,f.length-1),S=null,A=!1;const M=()=>{r.dispatchEvent(new CustomEvent("verticalscroll:change",{detail:{index:L,slide:f[L]}}))};function D(){f.forEach((e,t)=>{const n=t===L;e.classList.toggle("is-active",n),e.toggleAttribute("data-slide-active",n)}),r.querySelectorAll(t).forEach(t=>{if(t.closest(e)!==r)return;const n=i(t.dataset.scrollTo,f.length-1)===L;t.classList.toggle("is-active",n),t.setAttribute("aria-pressed",n?"true":"false")})}function T(e){const t=f.length;let n="number"==typeof e?e:parseInt(e,10);return Number.isFinite(n)||(n=0),y?(n=(n%t+t)%t,n):Math.min(Math.max(0,n),t-1)}function k(e,t={}){const{immediate:n=!1}=t,r=T(e);if(r===L&&!n)return!1;const i=Math.abs(r-L)||1;return L=r,D(),S&&(S.kill(),S=null),n||0===p?(l.set(d,{yPercent:-100*r}),M(),A=!1,!0):(A=!0,S=l.to(d,{yPercent:-100*r,duration:Math.min(p*i,1.5*p),ease:v,onComplete:()=>{A=!1,S=null,M()}}),!0)}function x(e){return!!e&&k(L+e)}const F="PointerEvent"in window;let I=!1,q=0,Y=0,P=null;function N(e){if(g&&!A){if(F){if(e.pointerType&&"touch"!==e.pointerType)return;P=e.pointerId,q=e.clientY,Y=e.clientX}else{if(!e.touches||!e.touches.length)return;{const t=e.touches[0];P=t.identifier,q=t.clientY,Y=t.clientX}}I=!0}}function C(e){if(!I)return;let t=null;if(F){if(e.pointerId!==P)return;t=e}else e.changedTouches&&e.changedTouches.length&&(t=o(e.changedTouches,P)||e.changedTouches[0]);if(I=!1,P=null,!t)return;const n=t.clientY-q,r=t.clientX-Y;if(Math.abs(n)<b||Math.abs(n)<Math.abs(r))return;x(n<0?1:-1)&&e.cancelable&&e.preventDefault()}function X(e){if(!I)return;let t=null;if(F){if(e.pointerId!==P)return;t=e}else e.touches&&e.touches.length&&(t=o(e.touches,P)||e.touches[0]);if(!t)return;Math.abs(t.clientY-q)>Math.abs(t.clientX-Y)&&e.cancelable&&e.preventDefault()}r.querySelectorAll("[data-scroll-next]").forEach(t=>{t.closest(e)===r&&t.addEventListener("click",e=>{e.preventDefault(),x(1)})}),r.querySelectorAll("[data-scroll-prev]").forEach(t=>{t.closest(e)===r&&t.addEventListener("click",e=>{e.preventDefault(),x(-1)})}),r.querySelectorAll(t).forEach(t=>{if(t.closest(e)!==r)return;const n=i(t.dataset.scrollTo,f.length-1);Number.isFinite(n)&&t.addEventListener("click",e=>{e.preventDefault(),k(n)})}),m&&r.addEventListener("wheel",function(e){if(!m||A)return;if(!r.contains(e.target))return;if(Math.abs(e.deltaY)<E)return;x(e.deltaY>0?1:-1)&&e.preventDefault()},{passive:!1}),g&&(F?(r.addEventListener("pointerdown",N,{passive:!0}),r.addEventListener("pointermove",X,{passive:!1}),r.addEventListener("pointerup",C,{passive:!0}),r.addEventListener("pointercancel",C,{passive:!0})):(r.addEventListener("touchstart",N,{passive:!0}),r.addEventListener("touchmove",X,{passive:!1}),r.addEventListener("touchend",C,{passive:!0}),r.addEventListener("touchcancel",C,{passive:!0}))),w&&r.addEventListener("keydown",function(e){if(w&&!A&&r.contains(e.target))if("ArrowDown"===e.key||"PageDown"===e.key){x(1)&&e.preventDefault()}else if("ArrowUp"===e.key||"PageUp"===e.key){x(-1)&&e.preventDefault()}}),window.addEventListener("resize",()=>{l.set(d,{yPercent:-100*L})}),function(e){const t=T(e);L=t,l.set(d,{yPercent:-100*t}),D(),M()}(L)})}function l(){const t=Array.from(document.querySelectorAll(e));t.length&&(window.gsap?r(t):setTimeout(l,150))}function i(e,t){const n=parseInt(e,10);return Number.isFinite(n)?Math.min(Math.max(0,n),t):0}function s(e,t){if(null==e)return t;const n=parseFloat(e);return Number.isFinite(n)?n:t}function o(e,t){if(!e)return null;for(let n=0;n<e.length;n+=1)if(e[n].identifier===t)return e[n];return null}"complete"===document.readyState||"interactive"===document.readyState?l():document.addEventListener("DOMContentLoaded",()=>{l()},{once:!0})}();