!function(){const e="[data-vertical-scroll]",t="[data-scroll-next]",n="[data-scroll-prev]",r="[data-scroll-to]",l=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function o(o){const s=window.gsap;s&&o.forEach(o=>{if(o.__verticalScrollInit)return;o.__verticalScrollInit=!0;const u=o.dataset,d=u.scrollTrack||"[data-scroll-track]",f=u.scrollSlide||"[data-scroll-slide]",h=o.matches(d)?o:o.querySelector(d)||o.querySelector(".vertical-scroll-track");if(!h)return;const v=Array.from(h.querySelectorAll(f));if(v.length<2)return;if(l)return void(o.style.overflowY=o.style.overflowY||"auto");const p=u.scrollSlideHeight||"100vh",y=u.scrollEase||"power2.out",m=function(e,t){if(!e)return t;const n=String(e).trim();if(!n)return t;if(n.endsWith("ms")){const e=parseFloat(n.replace(/ms$/,""));return Number.isFinite(e)?e/1e3:t}const r=parseFloat(n);return Number.isFinite(r)?r:t}(u.scrollDuration,.85),g="true"===u.scrollLoop,b="false"!==u.scrollWheel,w="false"!==u.scrollTouch,E="false"!==u.scrollKeys,A=a(u.scrollWheelThreshold,10),L=a(u.scrollSwipeThreshold,50);function x(){o.style.setProperty("overflow-y","hidden","important"),o.style.setProperty("overflow-x","hidden","important"),o.style.setProperty("overflow","hidden","important")}x();new MutationObserver(e=>{e.forEach(e=>{"style"===e.attributeName&&x()})}).observe(o,{attributes:!0,attributeFilter:["style"]}),o.style.position=o.style.position||"relative",o.style.touchAction=o.style.touchAction||"none",o.hasAttribute("tabindex")||(o.tabIndex=0),o.style.height&&"auto"!==o.style.height||(o.style.height=p),h.style.display=h.style.display||"flex",h.style.flexDirection=h.style.flexDirection||"column",h.style.willChange=h.style.willChange||"transform",h.style.transform=h.style.transform||"translate3d(0, 0, 0)",v.forEach(e=>{e.style.flex||(e.style.flex=`0 0 ${p}`),e.style.minHeight||(e.style.minHeight=p),e.style.width||(e.style.width="100%")});let S=i(u.scrollStartIndex,v.length-1),D=null,M=!1,T=!1;const k=a(u.scrollAutoplay,0),F="reverse"===u.scrollAutoplayDirection?-1:1;let P=null;const q=()=>{o.dispatchEvent(new CustomEvent("verticalscroll:change",{detail:{index:S,slide:v[S]}})),N()};function I(){P&&(clearTimeout(P),P=null)}function N(){k&&!T&&(I(),P=setTimeout(()=>{X(F)},k))}function Y(){v.forEach((e,t)=>{const n=t===S;e.classList.toggle("is-active",n),e.toggleAttribute("data-slide-active",n)}),o.querySelectorAll(r).forEach(t=>{if(t.closest(e)!==o)return;const n=i(t.dataset.scrollTo,v.length-1)===S;t.classList.toggle("is-active",n),t.setAttribute("aria-pressed",n?"true":"false")})}function C(e){const t=v.length;let n="number"==typeof e?e:parseInt(e,10);return Number.isFinite(n)||(n=0),g?(n=(n%t+t)%t,n):Math.min(Math.max(0,n),t-1)}function W(e,t={}){const{immediate:n=!1}=t,r=C(e);if(r===S&&!n)return!1;I();const l=Math.abs(r-S)||1;return S=r,Y(),D&&(D.kill(),D=null),n||0===m?(s.set(h,{yPercent:-100*r}),q(),M=!1,!0):(M=!0,D=s.to(h,{yPercent:-100*r,duration:Math.min(m*l,1.5*m),ease:y,onComplete:()=>{M=!1,D=null,q()}}),!0)}function X(e){return!!e&&W(S+e)}const _="PointerEvent"in window;let H=!1,O=0,U=0,$=null;function z(e){if(w&&!M){if(_){if(e.pointerType&&"touch"!==e.pointerType)return;$=e.pointerId,O=e.clientY,U=e.clientX}else{if(!e.touches||!e.touches.length)return;{const t=e.touches[0];$=t.identifier,O=t.clientY,U=t.clientX}}H=!0,I()}}function K(e){if(!H)return;let t=null;if(_){if(e.pointerId!==$)return;t=e}else e.changedTouches&&e.changedTouches.length&&(t=c(e.changedTouches,$)||e.changedTouches[0]);if(H=!1,$=null,!t)return;const n=t.clientY-O,r=t.clientX-U;if(Math.abs(n)<L||Math.abs(n)<Math.abs(r))return;X(n<0?1:-1)&&e.cancelable&&e.preventDefault()}function j(e){if(!H)return;let t=null;if(_){if(e.pointerId!==$)return;t=e}else e.touches&&e.touches.length&&(t=c(e.touches,$)||e.touches[0]);if(!t)return;Math.abs(t.clientY-O)>Math.abs(t.clientX-U)&&e.cancelable&&e.preventDefault()}function B(t,n){const r=t.closest(e);if(r)return r;const l=(t.getAttribute("data-scroll-target")||t.getAttribute(n)||t.getAttribute("aria-controls")||t.getAttribute("href")||"").trim();return!!l.startsWith("#")&&document.querySelector(l)}o.addEventListener("mouseenter",()=>{T=!0,I()}),o.addEventListener("mouseleave",()=>{T=!1,N()});const G=new Set;function J(e,t,n){G.has(e)||(G.add(e),e.addEventListener("click",r=>{const l=B(e,t);l&&l!==o||(r.preventDefault(),I(),"data-scroll-next"===t?X(n||1):"data-scroll-prev"===t?X(n||-1):W(n))}))}Array.from(document.querySelectorAll(t)).forEach(e=>{const t=B(e,"data-scroll-next");t&&t!==o||J(e,"data-scroll-next",1)}),Array.from(document.querySelectorAll(n)).forEach(e=>{const t=B(e,"data-scroll-prev");t&&t!==o||J(e,"data-scroll-prev",-1)}),Array.from(document.querySelectorAll(r)).forEach(e=>{const t=B(e,"data-scroll-to");if(t&&t!==o)return;const n=i(e.dataset.scrollTo,v.length-1);Number.isFinite(n)&&J(e,"data-scroll-to",n)}),o.addEventListener("click",e=>{const l=e.target.closest(t);if(l&&B(l,"data-scroll-next")===o)return e.preventDefault(),I(),void X(1);const s=e.target.closest(n);if(s&&B(s,"data-scroll-prev")===o)return e.preventDefault(),I(),void X(-1);const a=e.target.closest(r);if(a&&B(a,"data-scroll-to")===o){e.preventDefault();const t=i(a.dataset.scrollTo,v.length-1);Number.isFinite(t)&&(I(),W(t))}},!0),o.addEventListener("verticalscroll:go",e=>{const t=e.detail||{};"number"==typeof t.index?W(t.index):"number"==typeof t.delta&&X(t.delta)}),b&&o.addEventListener("wheel",function(e){if(!b||M)return;if(!o.contains(e.target))return;if(Math.abs(e.deltaY)<A)return;I(),X(e.deltaY>0?1:-1)&&e.preventDefault()},{passive:!1}),w&&(_?(o.addEventListener("pointerdown",z,{passive:!0}),o.addEventListener("pointermove",j,{passive:!1}),o.addEventListener("pointerup",K,{passive:!0}),o.addEventListener("pointercancel",K,{passive:!0})):(o.addEventListener("touchstart",z,{passive:!0}),o.addEventListener("touchmove",j,{passive:!1}),o.addEventListener("touchend",K,{passive:!0}),o.addEventListener("touchcancel",K,{passive:!0}))),E&&o.addEventListener("keydown",function(e){if(E&&!M&&o.contains(e.target))if("ArrowDown"===e.key||"PageDown"===e.key){I();X(1)&&e.preventDefault()}else if("ArrowUp"===e.key||"PageUp"===e.key){I();X(-1)&&e.preventDefault()}}),window.addEventListener("resize",()=>{s.set(h,{yPercent:-100*S})}),function(e){const t=C(e);S=t,s.set(h,{yPercent:-100*t}),Y(),q()}(S),N()})}function s(){const t=Array.from(document.querySelectorAll(e));t.length&&(window.gsap?o(t):setTimeout(s,150))}function i(e,t){const n=parseInt(e,10);return Number.isFinite(n)?Math.min(Math.max(0,n),t):0}function a(e,t){if(null==e)return t;const n=parseFloat(e);return Number.isFinite(n)?n:t}function c(e,t){if(!e)return null;for(let n=0;n<e.length;n+=1)if(e[n].identifier===t)return e[n];return null}"complete"===document.readyState||"interactive"===document.readyState?s():document.addEventListener("DOMContentLoaded",()=>{s()},{once:!0})}();