!function(){const e="[data-vertical-scroll]",t="[data-scroll-next]",n="[data-scroll-prev]",r="[data-scroll-to]",l=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function o(o){const s=window.gsap;s&&o.forEach(o=>{if(o.__verticalScrollInit)return;o.__verticalScrollInit=!0;const u=o.dataset,d=u.scrollTrack||"[data-scroll-track]",f=u.scrollSlide||"[data-scroll-slide]",h=o.matches(d)?o:o.querySelector(d)||o.querySelector(".vertical-scroll-track");if(!h)return;const v=Array.from(h.querySelectorAll(f));if(v.length<2)return;if(l)return void(o.style.overflowY=o.style.overflowY||"auto");const p=u.scrollSlideHeight||"100vh",y=u.scrollEase||"power2.out",m=function(e,t){if(!e)return t;const n=String(e).trim();if(!n)return t;if(n.endsWith("ms")){const e=parseFloat(n.replace(/ms$/,""));return Number.isFinite(e)?e/1e3:t}const r=parseFloat(n);return Number.isFinite(r)?r:t}(u.scrollDuration,.85),g="true"===u.scrollLoop,w="false"!==u.scrollWheel,b="false"!==u.scrollTouch,E="false"!==u.scrollKeys,A=a(u.scrollWheelThreshold,10),L=a(u.scrollSwipeThreshold,50);o.style.overflow=o.style.overflow||"hidden",o.style.position=o.style.position||"relative",o.style.touchAction=o.style.touchAction||"none",o.hasAttribute("tabindex")||(o.tabIndex=0),o.style.height||(o.style.height=p),h.style.display=h.style.display||"flex",h.style.flexDirection=h.style.flexDirection||"column",h.style.willChange=h.style.willChange||"transform",h.style.transform=h.style.transform||"translate3d(0, 0, 0)",v.forEach(e=>{e.style.flex||(e.style.flex=`0 0 ${p}`),e.style.minHeight||(e.style.minHeight=p),e.style.width||(e.style.width="100%")});let S=i(u.scrollStartIndex,v.length-1),x=null,D=!1,T=!1;const M=a(u.scrollAutoplay,0),k="reverse"===u.scrollAutoplayDirection?-1:1;let F=null;const q=()=>{o.dispatchEvent(new CustomEvent("verticalscroll:change",{detail:{index:S,slide:v[S]}})),Y()};function I(){F&&(clearTimeout(F),F=null)}function Y(){M&&!T&&(I(),F=setTimeout(()=>{W(k)},M))}function N(){v.forEach((e,t)=>{const n=t===S;e.classList.toggle("is-active",n),e.toggleAttribute("data-slide-active",n)}),o.querySelectorAll(r).forEach(t=>{if(t.closest(e)!==o)return;const n=i(t.dataset.scrollTo,v.length-1)===S;t.classList.toggle("is-active",n),t.setAttribute("aria-pressed",n?"true":"false")})}function P(e){const t=v.length;let n="number"==typeof e?e:parseInt(e,10);return Number.isFinite(n)||(n=0),g?(n=(n%t+t)%t,n):Math.min(Math.max(0,n),t-1)}function C(e,t={}){const{immediate:n=!1}=t,r=P(e);if(r===S&&!n)return!1;I();const l=Math.abs(r-S)||1;return S=r,N(),x&&(x.kill(),x=null),n||0===m?(s.set(h,{yPercent:-100*r}),q(),D=!1,!0):(D=!0,x=s.to(h,{yPercent:-100*r,duration:Math.min(m*l,1.5*m),ease:y,onComplete:()=>{D=!1,x=null,q()}}),!0)}function W(e){return!!e&&C(S+e)}const X="PointerEvent"in window;let _=!1,H=0,U=0,$=null;function z(e){if(b&&!D){if(X){if(e.pointerType&&"touch"!==e.pointerType)return;$=e.pointerId,H=e.clientY,U=e.clientX}else{if(!e.touches||!e.touches.length)return;{const t=e.touches[0];$=t.identifier,H=t.clientY,U=t.clientX}}_=!0,I()}}function K(e){if(!_)return;let t=null;if(X){if(e.pointerId!==$)return;t=e}else e.changedTouches&&e.changedTouches.length&&(t=c(e.changedTouches,$)||e.changedTouches[0]);if(_=!1,$=null,!t)return;const n=t.clientY-H,r=t.clientX-U;if(Math.abs(n)<L||Math.abs(n)<Math.abs(r))return;W(n<0?1:-1)&&e.cancelable&&e.preventDefault()}function O(e){if(!_)return;let t=null;if(X){if(e.pointerId!==$)return;t=e}else e.touches&&e.touches.length&&(t=c(e.touches,$)||e.touches[0]);if(!t)return;Math.abs(t.clientY-H)>Math.abs(t.clientX-U)&&e.cancelable&&e.preventDefault()}function j(t,n){const r=t.closest(e);if(r)return r;const l=(t.getAttribute("data-scroll-target")||t.getAttribute(n)||t.getAttribute("aria-controls")||t.getAttribute("href")||"").trim();return!!l.startsWith("#")&&document.querySelector(l)}o.addEventListener("mouseenter",()=>{T=!0,I()}),o.addEventListener("mouseleave",()=>{T=!1,Y()});const B=new Set;function G(e,t,n){B.has(e)||(B.add(e),e.addEventListener("click",r=>{const l=j(e,t);l&&l!==o||(r.preventDefault(),I(),"data-scroll-next"===t?W(n||1):"data-scroll-prev"===t?W(n||-1):C(n))}))}Array.from(document.querySelectorAll(t)).forEach(e=>{const t=j(e,"data-scroll-next");t&&t!==o||G(e,"data-scroll-next",1)}),Array.from(document.querySelectorAll(n)).forEach(e=>{const t=j(e,"data-scroll-prev");t&&t!==o||G(e,"data-scroll-prev",-1)}),Array.from(document.querySelectorAll(r)).forEach(e=>{const t=j(e,"data-scroll-to");if(t&&t!==o)return;const n=i(e.dataset.scrollTo,v.length-1);Number.isFinite(n)&&G(e,"data-scroll-to",n)}),o.addEventListener("click",e=>{const l=e.target.closest(t);if(l&&j(l,"data-scroll-next")===o)return e.preventDefault(),I(),void W(1);const s=e.target.closest(n);if(s&&j(s,"data-scroll-prev")===o)return e.preventDefault(),I(),void W(-1);const a=e.target.closest(r);if(a&&j(a,"data-scroll-to")===o){e.preventDefault();const t=i(a.dataset.scrollTo,v.length-1);Number.isFinite(t)&&(I(),C(t))}},!0),o.addEventListener("verticalscroll:go",e=>{const t=e.detail||{};"number"==typeof t.index?C(t.index):"number"==typeof t.delta&&W(t.delta)}),w&&o.addEventListener("wheel",function(e){if(!w||D)return;if(!o.contains(e.target))return;if(Math.abs(e.deltaY)<A)return;I(),W(e.deltaY>0?1:-1)&&e.preventDefault()},{passive:!1}),b&&(X?(o.addEventListener("pointerdown",z,{passive:!0}),o.addEventListener("pointermove",O,{passive:!1}),o.addEventListener("pointerup",K,{passive:!0}),o.addEventListener("pointercancel",K,{passive:!0})):(o.addEventListener("touchstart",z,{passive:!0}),o.addEventListener("touchmove",O,{passive:!1}),o.addEventListener("touchend",K,{passive:!0}),o.addEventListener("touchcancel",K,{passive:!0}))),E&&o.addEventListener("keydown",function(e){if(E&&!D&&o.contains(e.target))if("ArrowDown"===e.key||"PageDown"===e.key){I();W(1)&&e.preventDefault()}else if("ArrowUp"===e.key||"PageUp"===e.key){I();W(-1)&&e.preventDefault()}}),window.addEventListener("resize",()=>{s.set(h,{yPercent:-100*S})}),function(e){const t=P(e);S=t,s.set(h,{yPercent:-100*t}),N(),q()}(S),Y()})}function s(){const t=Array.from(document.querySelectorAll(e));t.length&&(window.gsap?o(t):setTimeout(s,150))}function i(e,t){const n=parseInt(e,10);return Number.isFinite(n)?Math.min(Math.max(0,n),t):0}function a(e,t){if(null==e)return t;const n=parseFloat(e);return Number.isFinite(n)?n:t}function c(e,t){if(!e)return null;for(let n=0;n<e.length;n+=1)if(e[n].identifier===t)return e[n];return null}"complete"===document.readyState||"interactive"===document.readyState?s():document.addEventListener("DOMContentLoaded",()=>{s()},{once:!0})}();