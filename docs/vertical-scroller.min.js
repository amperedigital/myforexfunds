!function(){const e="[data-vertical-scroll]",t="[data-scroll-to]",n=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function r(){const r=window.gsap,o=Array.from(document.querySelectorAll(e));o.length&&(r?o.forEach(o=>{if(o.__verticalScrollInit)return;o.__verticalScrollInit=!0;const s=o.dataset,a=s.scrollTrack||"[data-scroll-track]",c=s.scrollSlide||"[data-scroll-slide]",u=o.matches(a)?o:o.querySelector(a)||o.querySelector(".vertical-scroll-track");if(!u)return;const d=Array.from(u.querySelectorAll(c));if(d.length<2)return;if(n)return void(o.style.overflowY=o.style.overflowY||"auto");const f=s.scrollSlideHeight||"100vh",h=s.scrollEase||"power2.out",v=function(e,t){if(!e)return t;const n=String(e).trim();if(!n)return t;if(n.endsWith("ms")){const e=parseFloat(n.replace(/ms$/,""));return Number.isFinite(e)?e/1e3:t}const r=parseFloat(n);return Number.isFinite(r)?r:t}(s.scrollDuration,.85),p="true"===s.scrollLoop,y="false"!==s.scrollWheel,m="false"!==s.scrollTouch,w="false"!==s.scrollKeys,g=i(s.scrollWheelThreshold,10),E=i(s.scrollSwipeThreshold,50);o.style.overflow=o.style.overflow||"hidden",o.style.position=o.style.position||"relative",o.style.touchAction=o.style.touchAction||"none",o.hasAttribute("tabindex")||(o.tabIndex=0),o.style.height||(o.style.height=f),u.style.display=u.style.display||"flex",u.style.flexDirection=u.style.flexDirection||"column",u.style.willChange=u.style.willChange||"transform",u.style.transform=u.style.transform||"translate3d(0, 0, 0)",d.forEach(e=>{e.style.flex||(e.style.flex=`0 0 ${f}`),e.style.minHeight||(e.style.minHeight=f),e.style.width||(e.style.width="100%")});let b=l(s.scrollStartIndex,d.length-1),L=!1,A=null;const S=()=>o.dispatchEvent(new CustomEvent("verticalscroll:change",{detail:{index:b,slide:d[b]}}));function M(){d.forEach((e,t)=>{const n=t===b;e.classList.toggle("is-active",n),e.toggleAttribute("data-slide-active",n)}),o.querySelectorAll(t).forEach(t=>{if(t.closest(e)!==o)return;const n=l(t.dataset.scrollTo,d.length-1)===b;t.classList.toggle("is-active",n),t.setAttribute("aria-pressed",n?"true":"false")})}function D(e){const t=d.length;let n="number"==typeof e?e:parseInt(e,10);return Number.isFinite(n)||(n=0),p?(n=(n%t+t)%t,n):Math.min(Math.max(0,n),t-1)}function x(e,t={}){const{immediate:n=!1}=t;d.length;let l=D(e);if(l===b&&!n)return!1;const i=Math.abs(l-b)||1;return b=l,M(),A&&(A.kill(),A=null),n||0===v?(r.set(u,{yPercent:-100*l}),S(),L=!1,!0):(L=!0,A=r.to(u,{yPercent:-100*l,duration:Math.min(v*i,1.5*v),ease:h,onComplete:()=>{L=!1,A=null,S()}}),!0)}function T(e){if(!e)return!1;return x(b+e)}let Y=0,k=0,F=!1,I=null;const q="PointerEvent"in window;function P(e){if(m&&!L){if(q){if(e.pointerType&&"touch"!==e.pointerType)return;I=e.pointerId,Y=e.clientY,k=e.clientX}else{if(!e.touches||!e.touches.length)return;const t=e.touches[0];I=t.identifier,Y=t.clientY,k=t.clientX}F=!0}}function N(e){if(!F)return;let t=null;if(q){if(e.pointerId!==I)return;t=e}else e.changedTouches&&e.changedTouches.length&&(t=X(e.changedTouches,I)||e.changedTouches[0]);if(!t)return F=!1,void(I=null);const n=t.clientY-Y,r=t.clientX-k;if(F=!1,I=null,Math.abs(n)<E||Math.abs(n)<Math.abs(r))return;T(n<0?1:-1)&&e.cancelable&&e.preventDefault()}function C(e){if(!F)return;let t=null;if(q){if(e.pointerId!==I)return;t=e}else e.touches&&e.touches.length&&(t=X(e.touches,I)||e.touches[0]);if(!t)return;Math.abs(t.clientY-Y)>Math.abs(t.clientX-k)&&e.cancelable&&e.preventDefault()}function X(e,t){if(!e)return null;for(let n=0;n<e.length;n+=1)if(e[n].identifier===t)return e[n];return null}o.querySelectorAll("[data-scroll-next]").forEach(t=>{t.closest(e)===o&&t.addEventListener("click",e=>{e.preventDefault(),T(1)})}),o.querySelectorAll("[data-scroll-prev]").forEach(t=>{t.closest(e)===o&&t.addEventListener("click",e=>{e.preventDefault(),T(-1)})}),o.querySelectorAll(t).forEach(t=>{if(t.closest(e)!==o)return;const n=l(t.dataset.scrollTo,d.length-1);Number.isFinite(n)&&t.addEventListener("click",e=>{e.preventDefault(),x(n)})}),y&&o.addEventListener("wheel",function(e){if(!y||L)return;if(!o.contains(e.target))return;if(Math.abs(e.deltaY)<g)return;T(e.deltaY>0?1:-1)&&e.preventDefault()},{passive:!1}),m&&(q?(o.addEventListener("pointerdown",P,{passive:!0}),o.addEventListener("pointermove",C,{passive:!1}),o.addEventListener("pointerup",N,{passive:!0}),o.addEventListener("pointercancel",N,{passive:!0})):(o.addEventListener("touchstart",P,{passive:!0}),o.addEventListener("touchmove",C,{passive:!1}),o.addEventListener("touchend",N,{passive:!0}),o.addEventListener("touchcancel",N,{passive:!0}))),w&&o.addEventListener("keydown",function(e){if(!w||L)return;if(!o.contains(e.target))return;const t=e.key;"ArrowDown"===t||"PageDown"===t?T(1)&&e.preventDefault():"ArrowUp"!==t&&"PageUp"!==t||T(-1)&&e.preventDefault()}),window.addEventListener("resize",()=>{r.set(u,{yPercent:-100*b})}),function(e){const t=D(e);b=t,r.set(u,{yPercent:-100*t}),M(),S()}(b)}):o.forEach(e=>{e.style.overflowY=e.style.overflowY||"auto",e.style.touchAction=e.style.touchAction||"pan-y"}))}function l(e,t){const n=parseInt(e,10);return Number.isFinite(n)?Math.min(Math.max(0,n),t):0}function i(e,t){if(null==e)return t;const n=parseFloat(e);return Number.isFinite(n)?n:t}"complete"===document.readyState||"interactive"===document.readyState?window.gsap?r():window.addEventListener("load",r,{once:!0}):document.addEventListener("DOMContentLoaded",()=>{window.gsap?r():window.addEventListener("load",r,{once:!0})},{once:!0})}();