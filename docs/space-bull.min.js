(()=>{const t="[data-bull-src].space-bull",e="space-bull-styles",a=2800,r=0,n=1800,l="power2.out",s="path",i=!1,o=.6,c="0px 0px -20% 0px",p=360,u=!0,d=.85,h=!0,g=2520,b=70,f=650,y=16,m=.6,w=2.6;function x(t,e){if(null==t||""===t)return e;const a=Number(t);return Number.isFinite(a)?a:e}function A(t,e){t.classList.toggle("space-bull--paths-ready",e)}const _=new Map;function S(t){return"string"!=typeof t?"":t.replace(/^#/,"").trim()}function v(e){const a=function(e){if(!e)return[];if("string"==typeof e){const t=S(e),a=_.get(t);return a&&a.size?Array.from(a):[]}if(e instanceof Element){const a=e.matches(t)?e:e.closest(t);return a?[a]:[]}return[]}(e);return a.forEach(t=>t.playBull?.()),a.length>0}function E(t,e,a){const r=`${e}px`;t.style.strokeDasharray=r,t.style.strokeDashoffset=r,t.style.opacity=a.fade?"0":""}function $(t,e){const a=function(t){let e=t.querySelector("defs");e||(e=document.createElementNS("http://www.w3.org/2000/svg","defs"),t.insertBefore(e,t.firstChild||null));return e}(t),r=e.beamGlow?function(t,e){const a=`space-bull-grad-${Math.random().toString(36).slice(2)}`,r={left:`${a}-left`,right:`${a}-right`};return M(t,r.left,"#7cf5ff",e.glowStrength),M(t,r.right,"#fcb1ff",e.glowStrength),r}(a,e):null,n=document.createElementNS("http://www.w3.org/2000/svg","g");n.classList.add("space-bull__laser-head","space-bull__laser-head--left");const l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("r","10");const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("r","3"),n.append(l,s);const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.classList.add("space-bull__laser-head","space-bull__laser-head--right");const o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("r","10");const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("r","3"),i.append(o,c);const p=document.createElementNS("http://www.w3.org/2000/svg","line");p.classList.add("space-bull__beam","space-bull__beam--left");const u=document.createElementNS("http://www.w3.org/2000/svg","line");u.classList.add("space-bull__beam","space-bull__beam--right"),r&&(p.setAttribute("stroke",`url(#${r.left})`),u.setAttribute("stroke",`url(#${r.right})`),p.setAttribute("stroke-opacity",e.glowStrength),u.setAttribute("stroke-opacity",e.glowStrength)),n.style.display="none",i.style.display="none";let d=null;if(e.particles&&e.particlePool>0){const a=document.createElementNS("http://www.w3.org/2000/svg","g");a.classList.add("space-bull__particles");const r=Math.max(1,Math.floor(e.particlePool)),n=[];for(let t=0;t<r;t+=1){const t=document.createElementNS("http://www.w3.org/2000/svg","circle");a.appendChild(t),n.push(t)}t.appendChild(a),d={enabled:!0,pool:n,index:0,lastEmit:0,emit(t,a){if(!n.length)return;const r=n[this.index];this.index=(this.index+1)%n.length,function(t,e,a,r){const n=Math.max(e.particleSizeMax-e.particleSizeMin,.1),l=e.particleSizeMin+Math.random()*n;t.setAttribute("cx",a),t.setAttribute("cy",r),t.setAttribute("r",l.toFixed(2)),t.style.opacity="1",t.style.transform="translate(0px, 0px)";const s=(Math.random()-.5)*e.particleSpread,i=e.particleSpread*(.8+Math.random()),o=Math.max(120,e.particleDuration);t._particleAnimation?.cancel&&t._particleAnimation.cancel();t.animate?(t._particleAnimation=t.animate([{transform:"translate(0px, 0px)",opacity:1},{transform:`translate(${s}px, ${i}px)`,opacity:0}],{duration:o,easing:"ease-out",fill:"forwards"}),t._particleAnimation.onfinish=()=>{t.style.opacity="0",t.style.transform="",t._particleAnimation=null}):(t.style.transition="none",requestAnimationFrame(()=>{t.style.transition=`transform ${o}ms ease-out, opacity ${o}ms ease-out`,t.style.transform=`translate(${s}px, ${i}px)`,t.style.opacity="0",setTimeout(()=>{t.style.transition="",t.style.transform=""},o+50)}))}(r,e,t,a)}}}return t.append(p,u,n,i),{heads:[n,i],beams:[p,u],anchors:[{x:0,y:0},{x:0,y:0}],offsets:[{x:-3,y:0},{x:3,y:0}],particles:d}}function M(t,e,a,r){const n=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");n.id=e,n.setAttribute("x1","0%"),n.setAttribute("x2","100%"),n.setAttribute("y1","0%"),n.setAttribute("y2","0%");[{offset:"0%",opacity:r},{offset:"60%",opacity:.5*r},{offset:"100%",opacity:0}].forEach(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","stop");e.setAttribute("offset",t.offset),e.setAttribute("stop-color",a),e.setAttribute("stop-opacity",t.opacity.toFixed(3)),n.appendChild(e)}),t.appendChild(n)}async function k(v){if(v.dataset.bullReady)return;const M=v.getAttribute("data-bull-src");if(M){v.dataset.bullReady="pending",function(){if(document.getElementById(e))return;const a=document.createElement("style");a.id=e,a.textContent=`\n      ${t} {\n        position: relative;\n        display: block;\n        max-width: 100%;\n        padding: 0;\n        box-sizing: border-box;\n      }\n      ${t} svg {\n        display: block;\n        width: 100%;\n        height: auto;\n        max-width: 100%;\n      }\n      ${t} > :not(.space-bull__svg) {\n        display: none !important;\n      }\n      ${t} path {\n        fill: none !important;\n      }\n      ${t} .space-bull__laser-head circle:first-child {\n        fill: rgba(255, 255, 255, 0.4);\n        filter: blur(6px);\n      }\n      ${t} .space-bull__laser-head--left circle:last-child {\n        fill: #7cf5ff;\n      }\n      ${t} .space-bull__laser-head--right circle:last-child {\n        fill: #fcb1ff;\n      }\n      ${t} .space-bull__beam {\n        stroke-width: 1.6;\n        stroke-linecap: round;\n        opacity: 0;\n      }\n      ${t} .space-bull__beam--left {\n        stroke: rgba(124, 245, 255, 0.7);\n        filter: drop-shadow(0 0 6px rgba(124, 245, 255, 0.9));\n      }\n      ${t} .space-bull__beam--right {\n        stroke: rgba(252, 177, 255, 0.7);\n        filter: drop-shadow(0 0 6px rgba(252, 177, 255, 0.9));\n      }\n      ${t} .space-bull__particles circle {\n        fill: rgba(102, 204, 255, 0.95);\n        filter: drop-shadow(0 0 8px rgba(102, 204, 255, 0.85));\n        opacity: 0;\n      }\n      ${t} .space-bull__svg [data-bull-eye],\n      ${t} .space-bull__svg polygon#Eye,\n      ${t} .space-bull__svg polygon#Nose {\n        fill: transparent;\n        transition: fill 200ms ease, stroke-opacity 200ms ease;\n        stroke-opacity: 0;\n        opacity: 0;\n        display: none;\n      }\n      ${t}.space-bull--paths-ready .space-bull__svg [data-bull-eye],\n      ${t}.space-bull--paths-ready .space-bull__svg polygon#Eye,\n      ${t}.space-bull--paths-ready .space-bull__svg polygon#Nose {\n        fill: #d4a680;\n        stroke: #d4a680;\n        stroke-opacity: 1;\n        opacity: 1;\n        display: block;\n      }\n      @keyframes bull-stroke-draw { to { stroke-dashoffset: 0; opacity: 1; } }\n    `,document.head.appendChild(a)}();try{const t=await async function(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to load SVG: ${e.status} ${e.statusText}`);const a=await e.text(),r=(new DOMParser).parseFromString(a,"image/svg+xml").querySelector("svg");if(!r)throw new Error("No <svg> root found");return r.removeAttribute("width"),r.removeAttribute("height"),r.getAttribute("preserveAspectRatio")||r.setAttribute("preserveAspectRatio","xMidYMid meet"),r}(M),e=function(t){return{duration:x(t.getAttribute("data-bull-duration"),a),baseDelay:x(t.getAttribute("data-bull-base-delay"),r),stagger:x(t.getAttribute("data-bull-stagger"),n),easing:t.getAttribute("data-bull-easing")||l,pathSelector:t.getAttribute("data-bull-path-selector")||s,fade:t.hasAttribute("data-bull-fade")?"false"!==t.getAttribute("data-bull-fade"):!t.hasAttribute("data-bull-no-fade")&&i,threshold:x(t.getAttribute("data-bull-threshold"),o),repeat:t.hasAttribute("data-bull-repeat"),rootMargin:t.getAttribute("data-bull-root-margin")||c,playOnLoad:t.hasAttribute("data-bull-play-onload"),laserSpread:x(t.getAttribute("data-bull-spread"),p),beamGlow:!t.hasAttribute("data-bull-no-glow")&&u,glowStrength:x(t.getAttribute("data-bull-glow-strength"),d),particles:!t.hasAttribute("data-bull-no-particles")&&h,particlePool:x(t.getAttribute("data-bull-particle-count"),g),particleRate:x(t.getAttribute("data-bull-particle-rate"),b),particleDuration:x(t.getAttribute("data-bull-particle-duration"),f),particleSpread:x(t.getAttribute("data-bull-particle-spread"),y),particleSizeMin:x(t.getAttribute("data-bull-particle-size-min"),m),particleSizeMax:x(t.getAttribute("data-bull-particle-size-max"),w)}}(v);v.textContent="",t.classList.add("space-bull__svg"),t.style.visibility="hidden",v.appendChild(t);const k=function(t){if(!t)return{x:0,y:0,width:0,height:0};const e=t.split(/\s+/).map(Number);return 4===e.length&&e.every(Number.isFinite)?{x:e[0],y:e[1],width:e[2],height:e[3]}:{x:0,y:0,width:0,height:0}}(t.getAttribute("viewBox")),N={x:k.x+k.width,y:k.y+k.height},L=$(t,e),D=Math.max(0,e.laserSpread);L.anchors=[N,N];const C=Math.max(2,.15*D);L.offsets=[{x:-C,y:.05*-C},{x:C,y:.05*C}];const B=function(t,e){return Array.from(t.querySelectorAll(e.pathSelector)).filter(t=>"function"==typeof t.getTotalLength).map(t=>{const a=Math.max(t.getTotalLength(),.1),r=t.getBBox(),n=r.y+r.height/2,l=`${a}px`;return t.setAttribute("data-bull-path",""),t.dataset.bullDash=l,E(t,a,e),{path:t,length:a,centerY:n,dash:l}})}(t,e),Y=function(t,e,a,r){if(!window.gsap)return null;const n=window.DrawSVGPlugin||window.gsap.plugins&&(window.gsap.plugins.DrawSVGPlugin||window.gsap.plugins.drawSVG);n&&window.gsap.registerPlugin(n);const l=t.slice().sort((t,e)=>{if(t.centerY===e.centerY)try{return t.path.getPointAtLength(0).x-e.path.getPointAtLength(0).x}catch{return 0}return e.centerY-t.centerY}),s=l.reduce((t,e)=>t+e.length,0)||1,i=Math.max(.2,e.duration/1e3),o=Math.min(.25,i/Math.max(1,l.length)*.75),c=Math.max(1.5*o,.35*i),p=window.gsap.timeline({paused:!0});let u=e.baseDelay/1e3;const d=()=>A(r,!1);return p.eventCallback("onStart",d),e.repeat&&p.eventCallback("onRepeat",d),p.eventCallback("onComplete",()=>A(r,!0)),p.add(()=>{a?.heads?.forEach(t=>{t.style.display="block"}),a?.beams?.forEach(t=>{t.style.opacity="1"})},u),l.forEach(t=>{let r=t.length/s*i;r=Math.min(c,Math.max(o,r));const l=u;if(p.add(()=>{E(t.path,t.length,e)},l),n?p.fromTo(t.path,{drawSVG:"0%",opacity:e.fade?0:1},{drawSVG:"100%",opacity:1,duration:r,ease:e.easing},l):p.fromTo(t.path,{strokeDashoffset:t.dash,opacity:e.fade?0:1},{strokeDashoffset:0,opacity:1,duration:r,ease:e.easing},l),a?.heads?.length&&a?.beams?.length&&a?.anchors?.length){const n={progress:0};p.fromTo(n,{progress:0},{progress:1,duration:r,ease:e.easing,onUpdate:()=>{const r=t.path.getPointAtLength(Math.min(t.length*n.progress,t.length)),l=r?.x??0,s=r?.y??0;if(a.heads.forEach((t,e)=>{const r=a.offsets?.[e]||{x:0,y:0};t.setAttribute("transform",`translate(${l+r.x}, ${s+r.y})`)}),a.beams.forEach((t,e)=>{const r=a.anchors[0],n=a.offsets?.[e]||{x:0,y:0};t.setAttribute("x1",r.x),t.setAttribute("y1",r.y),t.setAttribute("x2",l+n.x),t.setAttribute("y2",s+n.y)}),a.particles?.enabled){const t=performance.now();(!a.particles.lastEmit||t-a.particles.lastEmit>e.particleRate)&&(a.particles.lastEmit=t,a.particles.emit(l,s))}}},l)}u+=r}),p.add(()=>{a?.heads?.forEach(t=>{t.style.display="none"}),a?.beams?.forEach(t=>{t.style.opacity="0"})},u),{timeline:p}}(B,e,L,v),P=()=>{t.style.visibility="",A(v,!1),Y?.timeline?Y.timeline.restart(!0,!1):function(t,e,a){const r=t.slice().sort((t,e)=>{if(t.centerY===e.centerY)try{return t.path.getPointAtLength(0).x-e.path.getPointAtLength(0).x}catch{return 0}return e.centerY-t.centerY}),n=Math.min(...r.map(t=>t.centerY)),l=Math.max(...r.map(t=>t.centerY)),s=Math.max(l-n,1);r.forEach(t=>{const a=(l-t.centerY)/s,r=e.baseDelay+a*e.stagger;t.path.style.strokeDasharray=t.dash,t.path.style.strokeDashoffset=t.dash,t.path.style.animation=`bull-stroke-draw ${e.duration}ms ${e.easing} ${r}ms forwards`,t.path.style.opacity=e.fade?"0":""}),A(a,!0)}(B,e,v)};v.playBull=P,function(t){const e=new Set,a=t.getAttribute("data-bull-trigger");if(a&&a.split(",").forEach(t=>{const a=S(t);a&&e.add(a)}),t.id){const a=S(t.id);a&&e.add(a)}e.forEach(e=>{_.has(e)||_.set(e,new Set),_.get(e).add(t)})}(v),v.dataset.bullReady="true"}catch(t){console.error("[space-bull]",t),v.dataset.bullReady="error",v.setAttribute("data-bull-error",t.message)}}}var N;!function(){if("undefined"==typeof window)return;const t=window.spaceBull||{};t.triggerSpaceBull||(t.triggerSpaceBull=v),t.trigger||(t.trigger=v),t.play||(t.play=v),window.spaceBull=t,void 0===window.triggerSpaceBull&&(window.triggerSpaceBull=v)}(),N=function(){document.querySelectorAll(t).forEach(k)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",N,{once:!0}):N()})();