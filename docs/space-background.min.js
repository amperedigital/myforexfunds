window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("[data-space-bg]");if(!e.length)return;let t=null;function n(){(window.UnicornStudio?Promise.resolve():(t||(t=new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v1.4.36/dist/unicornStudio.umd.js",n.async=!0,n.onload=()=>e(),n.onerror=t,document.head.appendChild(n)})),t)).then(()=>{window.UnicornStudio&&(window.UnicornStudio.isInitialized?"function"==typeof window.UnicornStudio.refresh&&window.UnicornStudio.refresh():(window.UnicornStudio.init(),window.UnicornStudio.isInitialized=!0))}).catch(()=>{console.warn("Unable to load Unicorn Studio embed.")})}const a=window.matchMedia("(pointer: fine)"),i=(window.matchMedia("(prefers-reduced-motion: reduce)"),"undefined"!=typeof navigator&&navigator.userAgent||""),o=/Mobi|Android|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i)&&!/iPad|Tablet|Silk|PlayBook|Kindle/i.test(i),r=()=>window.innerWidth<1024,s=[{count:120,size:[.5,1.1],speed:.02,twinkle:.25},{count:90,size:[1,1.7],speed:.05,twinkle:.35},{count:55,size:[1.4,2.3],speed:.08,twinkle:.5}],l=.0075,c=18,d=[1.6,4.8],u=25e-5,p=[.03,.14];let m=r()?0:.2,h=r()?3:1;function f(e,t,n){if(!e.hasAttribute(t))return n;const a=(e.getAttribute(t)||"").trim().toLowerCase();return a?"false"===a||"0"===a||"no"===a||"off"===a?!1:!0:!0}function y(e,t,n){if(!e.hasAttribute(t))return n;const a=(e.getAttribute(t)||"").trim();if(""===a)return n;const i=Number(a);if(Number.isFinite(i))return i;const o=parseFloat(a);return Number.isFinite(o)?o:n}function pa(e,t,n){Array.isArray(t)||(t=[t]);for(const a of t)if(e.hasAttribute(a))return y(e,a,n);return n}function b(e){return Math.min(1,Math.max(0,e))}function g(e,{cover:t=!1}={}){e&&(e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.width="100%",e.style.height="100%",e.style.maxWidth="100%",e.style.maxHeight="100%",t&&(e.style.objectFit="cover",e.style.background="transparent"))}const x=[{rgb:[255,255,255],weight:.35},{rgb:[200,230,255],weight:.25},{rgb:[120,210,255],weight:.15},{rgb:[140,255,220],weight:.15},{rgb:[200,255,180],weight:.1}];let w=null,M=null,v=null;e.forEach(e=>{"static"===getComputedStyle(e).position&&(e.style.position="relative");const t=f(e,"data-space-bg-stars",!0),i=f(e,"data-space-bg-nebula",!0),S=f(e,"data-space-bg-glow",!0),A=S&&i,C=S,P=(e.getAttribute("data-space-bg-stars-region")||"full").toLowerCase(),X=f(e,"data-space-bg-stars-chute",!1),Y=b(y(e,"data-space-bg-stars-safe-left",.1)),k=b(y(e,"data-space-bg-stars-safe-right",.9)),E=b(pa(e,["data-space-bg-stars-safe-top","data-sapce-bg-stars-safe-top"],0)),$=b(y(e,"data-space-bg-stars-safe-bottom",.25)),z=b(y(e,"data-space-bg-stars-safe-fade-depth",.12)),F=b(y(e,"data-space-bg-stars-safe-spawn",1)),L=Math.max(0,y(e,"data-space-bg-stars-safe-speed",.5)),T=(e.getAttribute("data-space-bg-unicorn-clip")||"chute").toLowerCase(),q=Math.max(0,y(e,"data-space-bg-unicorn-delay",8e3)),I=b(y(e,"data-space-bg-unicorn-clip-top",0)),O=b(y(e,"data-space-bg-unicorn-clip-bottom",0)),N=b(y(e,"data-space-bg-unicorn-clip-top-mobile",I)),_=b(y(e,"data-space-bg-unicorn-clip-bottom-mobile",O>0?O:.08)),U=y(e,"data-space-bg-img-parallax",0),R=f(e,"data-space-bg-dust",!0)&&!r(),D=y(e,"data-space-bg-dust-count",c),W=Math.max(0,Math.floor(D)),j=Math.max(0,y(e,"data-space-bg-parallax-strength",1)),B=y(e,"data-space-bg-parallax-ease",1),J=!Number.isFinite(B)||B>=1?1:Math.min(.35,Math.max(.01,B)),V=e.querySelector(".u-background-slot"),G=V&&V.style.transform||"",H=document.createElement("style");H.textContent='\na[href*="unicorn.studio"]{display:none!important;opacity:0!important;pointer-events:none!important;}\n.space-unicorn-layer{position:absolute;inset:0;z-index:2;pointer-events:none;overflow:hidden;mix-blend-mode:screen;opacity:0;transition:opacity 12s ease;clip-path:var(--space-layer-unicorn-clip,none);}\n.space-unicorn-layer .space-unicorn{position:absolute;inset:0;pointer-events:none;}\n.space-unicorn-layer .space-unicorn canvas,.space-unicorn-layer .space-unicorn div{width:100%!important;height:100%!important;}\n.space-layer{position:absolute;inset:0;z-index:3;pointer-events:none;overflow:hidden;mix-blend-mode:screen;}\n.space-layer canvas{position:absolute;inset:0;width:100%;height:100%;z-index:1;}\n.space-layer .space-starfield,.space-layer .space-dustfield{mix-blend-mode:screen;}\n.space-layer::before{content:"";position:absolute;inset:0;background:radial-gradient(ellipse at top,rgba(20,30,50,.45),transparent 55%),radial-gradient(ellipse at bottom,rgba(5,10,20,.55),transparent 65%);z-index:1;pointer-events:none;opacity:var(--space-layer-overlay-opacity,0);}\n.space-layer.space-layer--no-glow::before{display:none;}\n.space-video-mask-host{position:absolute;inset:0;width:100%;height:100%;overflow:hidden;z-index:1;}\n.space-video-mask-host :is(.bunny-player,.bunny-player__video,.bunny-player__placeholder){position:absolute;inset:0;width:100%!important;height:100%!important;max-width:100%!important;max-height:100%!important;object-fit:cover;}\n[data-space-bg]{position:relative;z-index:0;}\n[data-space-bg] .u-image-wrapper{position:relative;z-index:1;isolation:isolate;}\n[data-space-bg] .u-overlay{position:absolute;inset:0;z-index:2;mix-blend-mode:multiply;opacity:.92;pointer-events:none;}\n[data-space-bg] :is(.u-container,.u-layout-wrapper,.u-layout,.u-layout-column,.space-bull,.u-text,.u-rich-text,.w-embed,.u-section-content,.u-content-wrapper){position:relative;z-index:5;}\n',document.head.appendChild(H);const K=function(e){const t=e.querySelector(".u-background-slot"),n=e.querySelector(".bgvideo");if(!n)return null;t&&n.parentElement!==t&&t.appendChild(n);let a=n.querySelector(".space-video-mask-host");if(!a){for(a=document.createElement("div"),a.className="space-video-mask-host";n.firstChild;)a.appendChild(n.firstChild);n.appendChild(a)}g(n),n.style.zIndex="1",n.style.overflow="hidden",g(a),a.style.zIndex="1";const i=a.querySelector(".bunny-player");if(i){g(i),i.style.padding="0",i.setAttribute("data-player-update-size","false");const e=i.querySelector(".bunny-player__before");e&&e.remove()}const o=a.querySelector(".bunny-player__video");if(o){g(o,{cover:!0}),o.removeAttribute("width"),o.removeAttribute("height"),o.style.opacity="0",o.style.transition="opacity 2.8s ease";const e=()=>{"true"!==o.dataset.spaceVideoRevealed&&(o.dataset.spaceVideoRevealed="true",requestAnimationFrame(()=>{o.style.opacity="1"}))};o.addEventListener("loadeddata",e),o.addEventListener("canplay",e),setTimeout(e,2e3)}const r=a.querySelector(".bunny-player__placeholder");if(r){const e=r.currentSrc||r.src;e&&o&&!o.getAttribute("poster")&&o.setAttribute("poster",e),r.remove()}return{host:a,video:o||null}}(e)||{},Q=(K.host,K.video||null),Z="true"===e.getAttribute("data-space-bg-video-restart");let ee="undefined"!=typeof window?window.innerWidth:0;function te(){if(Q&&Z)try{Q.dataset.spaceVideoRevealed="",Q.style.opacity="0",Q.pause(),Q.currentTime=0,Q.load();const e=Q.play();e&&"function"==typeof e.catch&&e.catch(()=>{})}catch(e){}}function ne(){if(Q)try{Q.pause()}catch(e){}}const ae=document.createElement("div");ae.className="space-layer",S||ae.classList.add("space-layer--no-glow");const ie=document.createElement("canvas"),oe=document.createElement("canvas");ie.className="space-starfield",oe.className="space-dustfield";const re=e.getAttribute("data-space-bg-unicorn");let se=null,le=null,ce=!1;function de(){return Boolean(re)&&(!o||window.innerWidth>=1024)}function ue(){se||(se=function(){const e=document.createElement("div");e.className="space-unicorn-layer",e.style.opacity="0";const t=document.createElement("div");return t.className="space-unicorn",t.dataset.usProject=re,e.appendChild(t),e}(),requestAnimationFrame(n),he.appendChild(se),Ke(Xe),Qe())}function pe(e){le||(le=setTimeout(()=>{le=null,de()&&ue()},e))}function me({deferOnTransition:e=!1}={}){const t=de();t?se||(e&&!ce?pe(q||8e3):q>0?pe(q):ue()):(se&&(se.remove(),se=null,Ye&&(cancelAnimationFrame(Ye),Ye=null)),le&&(clearTimeout(le),le=null)),ce=t}ae.appendChild(ie),ae.appendChild(oe);const he=V||e;V?V.prepend(ae):e.prepend(ae);const fe=X&&k>Y&&$>E,ye=fe?Math.max(.02,Math.min(1,F)):1,be=fe?Math.max(0,L||0):0,ge=fe&&r()?.35:0,xe=fe?Math.max(E,Math.max(0,$-ge)):$,we=fe?Math.min(1,Math.max(E,xe+z)):1,Me=fe?Math.min(E,we):0,ve=()=>b(r()?N:I),Se=()=>b(r()?_:O);const Ae=()=>"none"===T?"none":"full"===T?function(){const e=ve(),t=Math.max(0,1-e),n=Math.min(t,Se());return e<=0&&n<=0?"none":`inset(${(100*e).toFixed(3)}% 0% ${(100*n).toFixed(3)}% 0%)`}():function(){if(!fe)return"none";const e=Math.max(Me,ve()),t=Math.max(1-we,Se());return`inset(${(100*e).toFixed(3)}% ${(100*(1-k)).toFixed(3)}% ${(100*t).toFixed(3)}% ${(100*Y).toFixed(3)}%)`}(),Ce=12e3,Pe=600;let Xe=0,Ye=null;me(),Qe();const ke=ie.getContext("2d"),Ee=oe.getContext("2d");let $e,ze,Fe=[],Le=[],Te=0,qe=0,Ie=0,Oe=0,Ne=0,_e=!1,Ue=!1,Re=null,De=0,We=R,je=0,Be=0,Je=0,Ve=0;let Ge=!0;function He(){$e=ie.width=oe.width=e.clientWidth,ze=ie.height=oe.height=e.clientHeight,w=ke.createLinearGradient(0,.2*ze,$e,.8*ze),w.addColorStop(0,"rgba(255,215,180,0.06)"),w.addColorStop(.2,"rgba(250,235,210,0.1)"),w.addColorStop(.45,"rgba(205,220,255,0.14)"),w.addColorStop(.7,"rgba(150,190,255,0.1)"),w.addColorStop(1,"rgba(110,140,200,0.07)"),M=ke.createLinearGradient(.2*-$e,.1*ze,1.1*$e,.9*ze),M.addColorStop(0,"rgba(255,120,210,0.05)"),M.addColorStop(.4,"rgba(60,20,60,0)"),M.addColorStop(.8,"rgba(180,100,255,0.06)"),M.addColorStop(1,"rgba(40,15,60,0)"),it()}function Ke(e){if(Xe=e,!se)return;const t=Math.max(0,Math.min(1,e)).toFixed(3);se.style.setProperty("--space-layer-unicorn-opacity",t),se.style.opacity=t}function Qe(){const e=A;if(ae.style.setProperty("--space-layer-overlay-opacity",e?"1":"0"),ae.style.setProperty("--space-layer-overlay-clip","none"),se){const e=.22,t=Ae();se.style.setProperty("--space-layer-unicorn-clip",t);!function(e,t){if(!se)return void(Xe=e);Ye&&(cancelAnimationFrame(Ye),Ye=null);const n=Xe,a=e-n;if(Math.abs(a)<.001||t<=0)return void Ke(e);const i=performance.now(),o=()=>{const e=performance.now(),r=Math.min(1,(e-i)/t),s=(l=r)*l*(3-2*l);var l;Ke(n+a*s),Ye=r<1?requestAnimationFrame(o):null};Ye=requestAnimationFrame(o)}(e,e>Xe?Ce:Pe)}}function Ze(e,t){return Math.random()*(t-e)+e}function et(e){const t=function(){const e=x.reduce((e,t)=>e+t.weight,0);let t=Math.random()*e;for(const e of x)if((t-=e.weight)<=0)return e.rgb;return x[0].rgb}();return{x:0,y:0,r:Ze(e.size[0],e.size[1]),speed:e.speed,twinkle:e.twinkle,twinkleAmp:Ze(.3,.8),twinkleOffset:Math.random()*Math.PI*2,pulseSpeed:Ze(.08,.35),pulseOffset:Math.random()*Math.PI*2,pulseAmount:Ze(.05,.35),baseAlpha:Ze(.4,.9),layer:e,color:t,isChute:!1}}function tt(){if(Te=$e,Fe=[],t){const e=function(){switch(P){case"top-left":return{minX:0,maxX:.5*$e,minY:0,maxY:.5*ze};case"top-right":return{minX:.5*$e,maxX:$e,minY:0,maxY:.5*ze};case"bottom-left":return{minX:0,maxX:.5*$e,minY:.5*ze,maxY:ze};case"bottom-right":return{minX:.5*$e,maxX:$e,minY:.5*ze,maxY:ze};case"center":return{minX:.25*$e,maxX:.75*$e,minY:.25*ze,maxY:.75*ze};default:return{minX:0,maxX:$e,minY:0,maxY:ze}}}(),t=r()?.5:1;s.forEach(n=>{const a=Math.max(1,Math.round(n.count*t));for(let t=0;t<a;t++){const t=et(n);fe?(t.isChute=!0,t.x=Math.random(),t.y=Math.random()*ye):(t.x=Ze(e.minX,e.maxX),t.y=Ze(e.minY,e.maxY)),Fe.push(t)}})}if(Le=[],R)for(let e=0;e<W;e++){const e=Ze(35e-5,8e-4),t=Ze(25e-5,65e-5);Le.push({x:Math.random()*$e,y:Math.random()*ze,r:Ze(d[0],d[1]),alpha:Ze(p[0],p[1]),baseAlpha:Ze(p[0],p[1]),alphaPulseAmp:Ze(.25,.55),alphaPulseSpeed:Ze(.02,.08),alphaPulseOffset:Math.random()*Math.PI*2,driftX:Ze(-e,e),driftY:Ze(-t,t),maxDriftX:e,maxDriftY:t,driftJitter:Ze(1e-5,5e-5),swayAmp:Ze(.04,.18),swaySpeed:Ze(.004,.016),swayPhaseX:Math.random()*Math.PI*2,swayPhaseY:Math.random()*Math.PI*2,hueShift:Ze(-10,25)})}}let nt=!1;function at(){const e=U>0&&!r()&&a.matches;e!==nt&&(nt=e,nt?(Ge=!1,setTimeout(()=>{Ge=!0,Je=je,Ve=Be,it()},8e3)):(Ge=!0,je=0,Be=0,Je=0,Ve=0,it()))}function it(){if(!nt||!Ge)return;const t=Je*U*20,n=Ve*U*12,a=50+t,i=50+n;if(e.style.backgroundPosition=`${a}% ${i}%`,V){const e=`translate(${t}px, ${n}px)`;V.style.transform=G?`${G} ${e}`:e}}function ot(t){const n=e.getBoundingClientRect(),a=(t.clientX-n.left)/$e-.5,i=(t.clientY-n.top)/ze-.5;Ue||(Oe=a*j,Ne=i*j,je=a,Be=i,_e||(_e=!0),it())}function rt(){Oe=0,Ne=0,je=0,Be=0,it(),function(){Ue=!0,_e=!1,Re&&(clearTimeout(Re),Re=null);Re=setTimeout(()=>{Ue=!1,Re=null},st)}()}at();const st=5e3;let lt=!1;He(),tt(),requestAnimationFrame(function e(t){nt&&(Je+=.075*(je-Je),Ve+=.075*(Be-Ve)),1===J?(qe=Oe,Ie=Ne):(qe+=(Oe-qe)*J,Ie+=(Ne-Ie)*J),function(e){ke.clearRect(0,0,$e,ze),C&&w&&(ke.fillStyle=w,ke.fillRect(0,0,$e,ze)),A&&M&&(ke.save(),ke.globalCompositeOperation="lighter",ke.fillStyle=M,ke.fillRect(0,0,$e,ze),ke.restore());const t=.001*(e||0),n=Y*$e,a=k*$e,i=xe*ze,o=Math.max(1,z*ze),r=Math.max(1,a-n),s=Math.max(1,i+o);for(const e of Fe){let l,c;if(fe&&e.isChute){const t=n+e.x*r,d=Math.min(s,e.y*s),u=qe*r*.1*be,p=Ie*s*.06*be;l=Math.max(n,Math.min(a,t+u)),c=Math.max(0,Math.min(i+o,d+p))}else{const t=1+e.layer.speed*m*40;l=(e.x+qe*t*20+$e)%$e,c=(e.y+Ie*t*12+ze)%ze}const d=Math.sin(t*e.twinkle+e.twinkleOffset),u=e.baseAlpha+d*e.twinkleAmp;let p=Math.max(.06,Math.min(1,u));if(fe&&e.isChute&&c>=i){const e=(c-i)/o,t=Math.max(0,1-Math.min(1,e));if(t<=.01)continue;p*=t}const h=1+Math.sin(t*e.pulseSpeed+e.pulseOffset)*e.pulseAmount,f=Math.max(.2,e.r*h),[y,b,g]=e.color;ke.beginPath(),ke.fillStyle=`rgba(${y},${b},${g},${p})`,ke.arc(l,c,f,0,2*Math.PI),ke.fill()}}(t),function(e){const t=e||performance.now();if(!We)return void(De=t);const n=De?t-De:16.67;De=t;const a=Math.min(2.5,n/16.67),i=(u||l)/l,o=Math.max(0,a*i)*(r()?h:1),s=.001*t;Ee.clearRect(0,0,$e,ze);for(const e of Le){e.driftX*=.96,e.driftY*=.96,e.driftX+=Ze(-e.driftJitter,e.driftJitter),e.driftY+=Ze(-e.driftJitter,e.driftJitter),e.driftX=Math.max(-e.maxDriftX,Math.min(e.maxDriftX,e.driftX)),e.driftY=Math.max(-e.maxDriftY,Math.min(e.maxDriftY,e.driftY));const t=Math.cos(s*e.swaySpeed+e.swayPhaseX)*e.swayAmp,n=Math.sin(s*e.swaySpeed+e.swayPhaseY)*e.swayAmp;e.x+=(e.driftX+t)*o+4*qe*(.6+.2*e.r)*o,e.y+=(e.driftY+n)*o+3.5*Ie*(.6+.2*e.r)*o,e.x<-20&&(e.x=$e+20),e.x>$e+20&&(e.x=-20),e.y<-20&&(e.y=ze+20),e.y>ze+20&&(e.y=-20);const a=1+Math.sin(s*e.alphaPulseSpeed+e.alphaPulseOffset)*e.alphaPulseAmp,i=Math.max(0,Math.min(1,e.baseAlpha*a)),r=Math.max(.6,e.r*(.8+.25*a)),l=220+e.hueShift;Ee.save(),Ee.shadowBlur=6*r,Ee.shadowColor=`rgba(${l},${l},255,${i})`,Ee.beginPath(),Ee.fillStyle=`rgba(${l},${l},255,${.9*i})`,Ee.arc(e.x+8*qe,e.y+6*Ie,r,0,2*Math.PI),Ee.fill(),Ee.restore()}}(t),function(){if(!v&&Math.random()<.002){const e=Math.random()*$e*.6+.2*$e,t=Math.random()*ze*.6+.2*ze,n=Math.random()*Math.PI*2,a=Ze(80,140),i=Ze(600,1200),o=Ze(.3,.7);v={x:e,y:t,dx:Math.cos(n)*o,dy:Math.sin(n)*o,len:a,endTime:performance.now()+i,alpha:.5+.4*Math.random()}}}(),function(e){if(!v)return;const t=v.endTime-e;t<=0?v=null:(v.x+=16*v.dx,v.y+=16*v.dy,ke.save(),ke.globalAlpha=v.alpha*Math.max(0,t/1200),ke.strokeStyle="rgba(180,220,255,0.9)",ke.lineWidth=2,ke.beginPath(),ke.moveTo(v.x,v.y),ke.lineTo(v.x-v.dx*v.len,v.y-v.dy*v.len),ke.stroke(),ke.restore())}(t||0),requestAnimationFrame(e)});let ct=null;function dt(){!r()&&a.matches?lt||(e.addEventListener("mousemove",ot),e.addEventListener("mouseleave",rt),lt=!0):lt&&(e.removeEventListener("mousemove",ot),e.removeEventListener("mouseleave",rt),lt=!1,_e=!1,Oe=0,Ne=0)}if(window.addEventListener("resize",()=>{ct&&clearTimeout(ct),ct=setTimeout(()=>{const e=Te>0?Te:$e;if(m=r()?0:.2,h=r()?3:1,at(),dt(),me({deferOnTransition:!0}),He(),Math.abs($e-e)>=1&&tt(),Z){const t="undefined"!=typeof window?window.innerWidth:e;Math.abs(t-ee)>=24&&(ee=t,te())}},200)}),dt(),a.addEventListener("change",()=>{dt(),me({deferOnTransition:!0})}),Q){const e=()=>{document.hidden?ne():Z&&te()};document.addEventListener("visibilitychange",e),window.addEventListener("pageshow",e=>{e.persisted&&Z&&te()}),window.addEventListener("pagehide",ne)}})});